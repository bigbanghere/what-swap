<!DOCTYPE html>
<html>
<head>
    <title>Test Focus Fix V6</title>
</head>
<body>
    <h1>Testing Focus Fix V6</h1>
    <p>This page will test if the focus fix now allows normal editing while preventing unwanted recalculations.</p>
    
    <script>
        // Open the app in a new window
        const appWindow = window.open('http://localhost:3001', '_blank');
        
        // Wait for the page to load
        setTimeout(() => {
            console.log('App opened, testing focus behavior...');
            
            // Instructions for manual testing
            console.log('Manual test steps:');
            console.log('1. Input "1111" in the Send field');
            console.log('2. Check that Get field updates with calculated amount ✅');
            console.log('3. Focus on the Get field (opposite field)');
            console.log('4. Check that Send field amount does NOT change ✅');
            console.log('5. Type in the Get field - it should work and trigger recalculation ✅');
            console.log('6. Focus back on Send field and type more - should work ✅');
            console.log('7. Focus on Get field initially (without typing first) - should work ✅');
            console.log('');
            console.log('Expected behavior:');
            console.log('- Typing in Send field → triggers forward calculation ✅');
            console.log('- Typing in Get field → triggers reverse calculation ✅');
            console.log('- Focusing on opposite field AFTER typing → NO calculation triggered ✅');
            console.log('- Focusing on field initially (no recent typing) → calculations work ✅');
            console.log('- Normal typing in focused field → calculations work ✅');
            console.log('');
            console.log('Key fix: Focus blocking now only applies to opposite field focus AFTER typing, not initial focus');
        }, 2000);
    </script>
</body>
</html>
